<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Tutorial: Events - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Guides</h3><ul><li data-sidebar="getting-started"><a href="tutorial-getting-started.html">Getting Started</a><ul><li data-sidebar="node"><a href="tutorial-node.html">Set Up NodeJS</a></li><li data-sidebar="install"><a href="tutorial-install.html">Installing Chat Engine</a></li><li data-sidebar="pubnub"><a href="tutorial-pubnub.html">Set Up PubNub</a></li><li data-sidebar="configure"><a href="tutorial-configure.html">Configure the SDK</a></li></ul></li><li data-sidebar="concepts"><a href="tutorial-concepts.html">Concepts</a><ul><li data-sidebar="me"><a href="tutorial-me_.html">Me</a></li><li data-sidebar="users"><a href="tutorial-users.html">Users and State</a></li><li data-sidebar="chats"><a href="tutorial-chats.html">Chats</a></li><li data-sidebar="globalChat"><a href="tutorial-globalChat.html">Global Chat</a></li><li data-sidebar="events"><a href="tutorial-events.html">Events</a></li><li data-sidebar="payload"><a href="tutorial-payload.html">Event Payload</a></li><li data-sidebar="wildcard"><a href="tutorial-wildcard.html">Namespaces and Wildcards</a></li><li data-sidebar="online-list"><a href="tutorial-online-list.html">Online List</a></li><li data-sidebar="using"><a href="tutorial-using.html">Plugins</a></li><li data-sidebar="build"><a href="tutorial-build.html">Build a Plugin</a></li></ul></li><li data-sidebar="angular"><a href="tutorial-angular.html">Angular</a><ul><li data-sidebar="ng-simple"><a href="tutorial-ng-simple.html">Simple</a></li><li data-sidebar="ng-flowtron"><a href="tutorial-ng-flowtron.html">Flowtron</a></li></ul></li><li data-sidebar="topology"><a href="tutorial-topology.html">topology</a><ul></ul></li><li data-sidebar="jquery"><a href="tutorial-jquery.html">jQuery</a><ul><li data-sidebar="full"><a href="tutorial-full.html">Setting Up</a></li><li data-sidebar="jq-simple"><a href="tutorial-jq-simple.html">Simple</a></li><li data-sidebar="jq-kitchen"><a href="tutorial-jq-kitchen.html">Kitchen Sink</a></li></ul></li><li data-sidebar="js"><a href="tutorial-js.html">Javacsript</a><ul><li data-sidebar="chat"><a href="tutorial-chat_.html">Chat</a></li><li data-sidebar="friends"><a href="tutorial-friends.html">Friends List</a></li><li data-sidebar="online"><a href="tutorial-online.html">Online List</a></li><li data-sidebar="facebook"><a href="tutorial-facebook.html">Facebook Auth</a></li></ul></li><li data-sidebar="nodejs"><a href="tutorial-nodejs.html">NodeJS</a><ul><li data-sidebar="chatbot"><a href="tutorial-chatbot.html">Chat Bot</a></li></ul></li><li data-sidebar="react"><a href="tutorial-react.html">React</a><ul><li data-sidebar="react-simple"><a href="tutorial-react-simple.html">Web</a></li><li data-sidebar="react-native"><a href="tutorial-react-native.html">Native</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#ChatEngineCore">ChatEngineCore</a></li></ul><h3>Plugins</h3><ul><li data-sidebar="chat-engine-desktop-notifications"><a href="module-chat-engine-desktop-notifications.html">chat-engine-desktop-notifications</a></li><li data-sidebar="chat-engine-emoji"><a href="module-chat-engine-emoji.html">chat-engine-emoji</a><ul><li><a href="Chat.html">Chat</a><ul class='members'></ul><ul class='methods'><li data-type='method'><a href="module-chat-engine-emoji.html#~parseEmoji">parseEmoji()</a></li><li data-type='method'><a href="module-chat-engine-emoji.html#~render">render()</a></li><li data-type='method'><a href="module-chat-engine-emoji.html#~search">search()</a></li></ul></ul></li><li data-sidebar="chat-engine-gravatar"><a href="module-chat-engine-gravatar.html">chat-engine-gravatar</a><ul><li><a href="User.html">User</a><ul class='members'><li data-type='member'><a href="module-chat-engine-gravatar.html#~state()%2522.%2522gravatar">state().gravatar</a></li></ul></ul></li><li data-sidebar="chat-engine-markdown"><a href="module-chat-engine-markdown.html">chat-engine-markdown</a></li><li data-sidebar="chat-engine-online-user-search"><a href="module-chat-engine-online-user-search.html">chat-engine-online-user-search</a><ul><li><a href="Chat.html">Chat</a><ul class='members'></ul><ul class='methods'><li data-type='method'><a href="module-chat-engine-online-user-search.html#~search">search()</a></li></ul></ul></li><li data-sidebar="chat-engine-random-username"><a href="module-chat-engine-random-username.html">chat-engine-random-username</a><ul><li><a href="User.html">User</a><ul class='members'><li data-type='member'><a href="module-chat-engine-random-username.html#~state()%2522.%2522username">state().username</a></li></ul></ul></li><li data-sidebar="chat-engine-typing-indicator"><a href="module-chat-engine-typing-indicator.html">chat-engine-typing-indicator</a><ul><li><a href="Chat.html">Chat</a><ul class='members'></ul><ul class='methods'><li data-type='method'><a href="module-chat-engine-typing-indicator.html#~typingindicator%2522.%2522startTyping">typingindicator.startTyping()</a></li><li data-type='method'><a href="module-chat-engine-typing-indicator.html#~typingindicator%2522.%2522stopTyping">typingindicator.stopTyping()</a></li></ul><ul class='events'><li data-type='event'><a href="module-chat-engine-typing-indicator.html#~event:$typingIndiciator%2522.%2522startTyping">$typingIndiciator.startTyping</a></li><li data-type='event'><a href="module-chat-engine-typing-indicator.html#~event:$typingIndiciator%2522.%2522stopTyping">$typingIndiciator.stopTyping</a></li></ul></ul></li><li data-sidebar="chat-engine-unread-messages"><a href="module-chat-engine-unread-messages.html">chat-engine-unread-messages</a><ul><li><a href="Chat.html">Chat</a><ul class='members'><li data-type='member'><a href="module-chat-engine-unread-messages.html#~unreadCount">unreadCount</a></li></ul><ul class='events'><li data-type='event'><a href="module-chat-engine-unread-messages.html#~event:$unread">$unread</a></li></ul></ul></li><li data-sidebar="chat-engine-uploadcare"><a href="module-chat-engine-uploadcare.html">chat-engine-uploadcare</a><ul><li><a href="Chat.html">Chat</a><ul class='members'></ul><ul class='methods'><li data-type='method'><a href="module-chat-engine-uploadcare.html#~uploadcare%2522.%2522bind">uploadcare.bind()</a></li></ul><ul class='events'><li data-type='event'><a href="module-chat-engine-uploadcare.html#~event:$uploadcare%2522.%2522upload">$uploadcare.upload</a></li></ul></ul></li></ul><h3>Reference</h3><ul><li data-sidebar="Chat"><a href="Chat.html">Chat</a><ul class='members'><li data-type='member'><a href="Chat.html#channel">channel</a></li><li data-type='member'><a href="Chat.html#users">users</a></li></ul><ul class='methods'><li data-type='method'><a href="Chat.html#emit">emit()</a></li><li data-type='method'><a href="Chat.html#history">history()</a></li><li data-type='method'><a href="Chat.html#leave">leave()</a></li><li data-type='method'><a href="Chat.html#off">off()</a></li><li data-type='method'><a href="Chat.html#on">on()</a></li><li data-type='method'><a href="Chat.html#onAny">onAny()</a></li><li data-type='method'><a href="Chat.html#once">once()</a></li><li data-type='method'><a href="Chat.html#plugin">plugin()</a></li></ul><ul class='events'><li data-type='event'><a href="Chat.html#event:$%2522.%2522disconnect">$.disconnect</a></li><li data-type='event'><a href="Chat.html#event:$%2522.%2522join">$.join</a></li><li data-type='event'><a href="Chat.html#event:$%2522.%2522leave">$.leave</a></li><li data-type='event'><a href="Chat.html#event:$%2522.%2522offline">$.offline</a></li><li data-type='event'><a href="Chat.html#event:$%2522.%2522online">$.online</a></li><li data-type='event'><a href="Chat.html#event:$%2522.%2522ready">$.ready</a></li><li data-type='event'><a href="Chat.html#event:$%2522.%2522state">$.state</a></li></ul></li><li data-sidebar="ChatEngine"><a href="ChatEngine.html">ChatEngine</a><ul class='members'><li data-type='member'><a href="ChatEngine.html#.Chat">Chat</a></li><li data-type='member'><a href="ChatEngine.html#.globalChat">globalChat</a></li><li data-type='member'><a href="ChatEngine.html#.me">me</a></li><li data-type='member'><a href="ChatEngine.html#.pubnub">pubnub</a></li><li data-type='member'><a href="ChatEngine.html#.User">User</a></li><li data-type='member'><a href="ChatEngine.html#.users">users</a></li></ul><ul class='methods'><li data-type='method'><a href="ChatEngine.html#.connect">connect()</a></li><li data-type='method'><a href="ChatEngine.html#off">off()</a></li><li data-type='method'><a href="ChatEngine.html#on">on()</a></li><li data-type='method'><a href="ChatEngine.html#onAny">onAny()</a></li><li data-type='method'><a href="ChatEngine.html#once">once()</a></li></ul></li><li data-sidebar="Emitter"><a href="Emitter.html">Emitter</a><ul class='members'></ul><ul class='methods'><li data-type='method'><a href="Emitter.html#off">off()</a></li><li data-type='method'><a href="Emitter.html#on">on()</a></li><li data-type='method'><a href="Emitter.html#onAny">onAny()</a></li><li data-type='method'><a href="Emitter.html#once">once()</a></li><li data-type='method'><a href="Emitter.html#plugin">plugin()</a></li></ul></li><li data-sidebar="Event"><a href="Event.html">Event</a><ul class='members'><li data-type='member'><a href="Event.html#channel">channel</a></li></ul></li><li data-sidebar="Me"><a href="Me.html">Me</a><ul class='members'><li data-type='member'><a href="Me.html#chats">chats</a></li><li data-type='member'><a href="Me.html#direct">direct</a></li><li data-type='member'><a href="Me.html#feed">feed</a></li><li data-type='member'><a href="Me.html#uuid">uuid</a></li></ul><ul class='methods'><li data-type='method'><a href="Me.html#off">off()</a></li><li data-type='method'><a href="Me.html#on">on()</a></li><li data-type='method'><a href="Me.html#onAny">onAny()</a></li><li data-type='method'><a href="Me.html#once">once()</a></li><li data-type='method'><a href="Me.html#plugin">plugin()</a></li><li data-type='method'><a href="Me.html#state">state()</a></li><li data-type='method'><a href="Me.html#update">update()</a></li></ul></li><li data-sidebar="RootEmitter"><a href="RootEmitter.html">RootEmitter</a><ul class='members'></ul><ul class='methods'><li data-type='method'><a href="RootEmitter.html#off">off()</a></li><li data-type='method'><a href="RootEmitter.html#on">on()</a></li><li data-type='method'><a href="RootEmitter.html#onAny">onAny()</a></li><li data-type='method'><a href="RootEmitter.html#once">once()</a></li></ul></li><li data-sidebar="User"><a href="User.html">User</a><ul class='members'><li data-type='member'><a href="User.html#chats">chats</a></li><li data-type='member'><a href="User.html#direct">direct</a></li><li data-type='member'><a href="User.html#feed">feed</a></li><li data-type='member'><a href="User.html#uuid">uuid</a></li></ul><ul class='methods'><li data-type='method'><a href="User.html#off">off()</a></li><li data-type='method'><a href="User.html#on">on()</a></li><li data-type='method'><a href="User.html#onAny">onAny()</a></li><li data-type='method'><a href="User.html#once">once()</a></li><li data-type='method'><a href="User.html#plugin">plugin()</a></li><li data-type='method'><a href="User.html#state">state()</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">Tutorial: Events</h1>
    

    <section>

<header>
    

    <h2>Events</h2>
</header>

<article>
    <p>Let's define a custom event so we can send and recieve text messages between windows.</p>
<h2>Broadcasting Events</h2><p>First, let's <code>emit()</code> a simple text string as a <code>message</code> event over the <code>Chat</code>.</p>
<pre class="prettyprint source lang-js"><code>chat.emit('message', 'Hey, this is Ian!');</code></pre><p>This will broadcast the <code>message</code> event over the internet to all other clients.</p>
<h2>Subscribing to Events</h2><p>You can subscribe to custom events by supplying an event name as first parameter in ```on()````.</p>
<pre class="prettyprint source lang-js"><code>chat.on('message', (payload) => {
  console.log(payload.sender.uuid, payload.data);
});</code></pre><p>Anytime your or any other client uses the <code>emit()</code> function with the same event name, it will fire the callback defined in <code>on()</code> on every client subscribed to it.</p>
<h1>Hooking it up to a GUI</h1><h2>Adding a Textbox</h2><p>Let's build a textbox that will let us send our own message.</p>
<p>We'll add this line under the <code>#log</code> container.</p>
<pre class="prettyprint source lang-html"><code>&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;message&quot; placeholder=&quot;Your message here...&quot;></code></pre><p>And then wrap the <code>chat.emit()</code> code in a jQuery function.</p>
<pre class="prettyprint source lang-js"><code>$(&quot;#message&quot;).keypress(function(event) {

    if (event.which == 13) {
        chat.emit('message', $(&quot;#message&quot;).val());
        $(&quot;#message&quot;).val('');
        event.preventDefault();
    }

});</code></pre><p>This function fires every time a key is pressed on the message input text area.</p>
<p>If the key is <code>13</code> (Enter or Return), we use <code>chat.emit()</code> to broadcast the value of the the text input to all other clients.</p>
<p>The text input is then cleared and we user <code>event.preventDefault()</code> to prevent the enter or return key from bubbling (allowing other things to happen).</p>
<h2>Send a Message</h2><p>Now, when you type in the message input and hit &quot;Enter&quot;, the message is sent over the network to all other machines!</p>
<p>Render the message by listening for the <code>message</code> event:</p>
<pre class="prettyprint source lang-js"><code>chat.on('message', (payload) => {
  $('#log').append(payload.sender.uuid + ': ' + payload.data + '\n');
});</code></pre><p>Try it with two browsers!</p>
<p><img src="/guide/getting-started/assets/README-316b8bd1.gif" alt=""></p>
</article>

</section>

</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.2</a> on Mon Jul 31 2017 18:39:29 GMT-0500 (CDT) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>